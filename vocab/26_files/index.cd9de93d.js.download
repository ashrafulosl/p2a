import{_ as L,h as v,o as e,c as t,F as $,i as w,a as o,t as b,b as i,e as n,n as A,d as S,w as E,j as x,x as N,q as j,O as D,z as T,A as V}from"./entry.46cabf79.js";import{u as z,_ as O,m as F}from"./metaTag.afcd2a99.js";import P from"./Icon.d9b62515.js";import{_ as R}from"./nuxt-link.e5a1af5b.js";import{$ as q}from"./useRequest.97629abe.js";import{r as M}from"./useCommon.f761294d.js";import{u as G}from"./auth.91716bef.js";import"./Loader.351a7ceb.js";import"./Alert.14c09df3.js";import"./datetime.127a3b2f.js";import"./moment.fbc5633a.js";const H={class:"container my-6"},J=["onClick"],K={class:"text-[20px]"},Q={key:0,class:"px-6 pb-3"},U={key:0},W=["onClick"],X={class:"text-[20px]"},Y={key:0,class:"px-6 pb-3"},Z={key:0},ee={key:1},te={key:0},se={key:1,class:"mt-2"},oe={__name:"CourseAfterEnrolSection",props:{items:{type:Array,default:[]},slug:{type:String,default:""}},setup(m){v({});const f=v(!1),u=v(-1),k=s=>{s===u.value?(u.value=-1,f.value=!f.value):(u.value=s,f.value=!0)},c=v(!1),r=v(-1),d=s=>{s===r.value?(r.value=-1,c.value=!c.value):(r.value=s,c.value=!0)},B=s=>{if(s=="video")return"ion:md-play-circle";if(s=="pdf")return"material-symbols:picture-as-pdf-sharp";if(s=="note")return"ion:newspaper-outline";if(s=="exam")return"ion:document-text-sharp";if(s=="link")return"material-symbols:add-link-rounded";if(s=="live")return"material-symbols:live-tv-rounded"};return(s,g)=>{const l=P,y=R;return e(),t("div",H,[(e(!0),t($,null,w(m.items,(_,h)=>(e(),t("div",{key:h},[o("div",{class:A(`my-2 p-2 ${n(u)==h?"bg-[#E9F6FF]":"bg-[#F6F8FC]"} rounded-2xl w-full`)},[o("div",{onClick:a=>k(h),class:"bg-white flex justify-between items-center cursor-pointer px-4 pb-2 rounded-md pt-2 md:pt-4"},[o("p",K,b(_.title),1),o("p",null,[i(l,{color:"#0072BB",name:n(u)==h?"ion:ios-arrow-up":"ion:chevron-down"},null,8,["name"])])],8,J),n(f)&&n(u)===h?(e(),t("div",Q,[o("div",null,[_.sections.length?(e(),t("div",U,[(e(!0),t($,null,w(_.sections,(a,p)=>(e(),t("div",{key:p},[o("div",{class:A(`my-2 ${n(r)==p?"bg-[#E9F6FF]":"bg-[#F6F8FC]"} rounded-2xl w-full`)},[o("div",{onClick:C=>d(p),class:"flex justify-between items-center cursor-pointer px-4 pb-3 pt-2 md:pt-4"},[o("p",X,[i(l,{color:"#0072BB",class:"mr-4",name:"ion:book-sharp"}),S(b(a.title),1)]),i(l,{color:"#0072BB",name:n(r)==p?"ion:ios-arrow-up":"ion:chevron-down"},null,8,["name"])],8,W),n(c)&&n(r)===p?(e(),t("div",Y,[a.body?(e(),t("p",Z,b(a.body),1)):(e(),t("div",ee,[a.contents&&a.contents.length?(e(),t("div",te,[(e(!0),t($,null,w(a.contents,(C,I)=>(e(),t("div",{key:I},[i(y,{to:`/my-courses/${m.slug}/${C.slug}`,class:"flex justify-between mb-1 bg-slate-200 w-full text-left px-2 rounded-lg py-1 set_border text-[#0072BB]"},{default:E(()=>[o("p",null,[i(l,{name:B(C.type),class:"mr-4"},null,8,["name"]),S(b(C.title),1)])]),_:2},1032,["to"])]))),128))])):x("",!0)]))])):x("",!0)],2)]))),128))])):x("",!0),_.contents&&_.contents.length?(e(),t("div",se,[(e(!0),t($,null,w(_.contents,(a,p)=>(e(),t("div",{key:p},[i(y,{to:`/my-courses/${m.slug}/${a.slug}`,class:"flex justify-between mb-1 bg-slate-200 w-full text-left px-2 rounded-lg py-1 set_border text-[#0072BB]"},{default:E(()=>[o("p",null,[i(l,{name:B(a.type),class:"mr-4"},null,8,["name"]),S(b(a.title),1)])]),_:2},1032,["to"])]))),128))])):x("",!0)])])):x("",!0)],2)]))),128))])}}},ne=L(oe,[["__scopeId","data-v-2baa4e3e"]]),le=T(()=>V(()=>import("./Loader.351a7ceb.js"),["./Loader.351a7ceb.js","./entry.46cabf79.js","./entry.20ffcf5a.css"],import.meta.url).then(m=>m.default||m)),re={class:"py-[90px] overflow-x-hidden"},ae={key:0},ie={key:1,class:""},ce={class:"container fluid mx-auto px-4"},ue={class:"grid grid-cols-5 gap-x-12 py-0 md:py-6"},de={class:"px-2 rounded-md order-2 md:order-1 col-span-5 md:col-span-2"},_e={key:0},me=o("p",{class:"text-[28px] text-[#0072BB] py-6 px-3"}," Course Contents ",-1),pe={class:"rounded-[20px] bg-[#F6F8FC]"},ve={class:"order-1 md:order-2 col-span-5 md:col-span-3"},Be={__name:"index",setup(m){z({ogTitle:F.siteName,description:F.siteDescription,ogDescription:F.siteDescription,ogImage:F.siteLogo});const f=N(),u=G(),k=f.params.myCourseSlug,c=v(!1),r=v({}),d=j(()=>{var g,l;if(((g=r.value.subscription_status)==null?void 0:g.status)==="active"||((l=r.value.subscription_status)==null?void 0:l.status)==="expiring-soon")return r;M(`/courses/${k}`)});return(async()=>{c.value=!0;const{data:s,pending:g,error:l,refresh:y}=await q.get(`my-course/${k}`);l&&l._value?(console.log(l),l._value.status===401&&await u.logout()):r.value=s.value,c.value=!1})(),(s,g)=>{const l=le,y=O,_=D;return e(),t("div",re,[n(c)?(e(),t("div",ae,[i(l)])):(e(),t("div",ie,[i(y,{loading:n(c),item:n(d).value,type:"my-course"},null,8,["loading","item"]),o("div",ce,[o("div",ue,[o("div",de,[n(d).value.sections&&n(d).value.sections.length?(e(),t("div",_e,[me,o("div",pe,[i(ne,{slug:n(d).value.slug,items:n(d).value.sections},null,8,["slug","items"])])])):x("",!0)]),o("div",ve,[i(_,{item:n(d).value},null,8,["item"])])])])]))])}}};export{Be as default};
